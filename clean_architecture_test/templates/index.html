<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Todo App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <meta name="description" content="A simple task management application">
</head>
<body>
    <main class="container">
        <header>
            <h1>My Tasks</h1>
            <p class="subtitle">Stay organized with this simple todo list</p>
        </header>
        
        <!-- Task Input Form -->
        <section class="task-form-section">
            <form id="task-form" class="task-form" aria-labelledby="form-title">
                <h2 id="form-title" class="sr-only">Add New Task</h2>
                <div class="form-group">
                    <label for="task-input" class="form-label">New task</label>
                    <input 
                        type="text" 
                        id="task-input" 
                        class="task-input"
                        placeholder="What needs to be done?"
                        maxlength="200"
                        required
                        aria-describedby="task-error task-help"
                        aria-invalid="false"
                    >
                    <div id="task-help" class="form-help">Maximum 200 characters</div>
                    <div id="task-error" class="error-message hidden" role="alert" aria-live="polite"></div>
                </div>
                <button 
                    type="submit" 
                    class="btn btn-primary"
                    aria-label="Add new task"
                    id="add-button"
                >
                    Add Task
                </button>
            </form>
        </section>
        
        <!-- Loading State -->
        <div id="loading" class="loading hidden" aria-hidden="true">
            <div class="spinner" aria-label="Loading tasks"></div>
            <span>Loading your tasks...</span>
        </div>
        
        <!-- Task List -->
        <section class="task-list-section" aria-labelledby="tasks-title">
            <h2 id="tasks-title" class="sr-only">Your Tasks</h2>
            <div id="empty-state" class="empty-state hidden">
                <p class="empty-message">No tasks yet! Add your first task above.</p>
            </div>
            <ul id="task-list" class="task-list" role="list" aria-label="Task list">
                <!-- Tasks will be populated here by JavaScript -->
            </ul>
        </section>
        
        <!-- Global Error Display -->
        <div id="global-error" class="global-error hidden" role="alert" aria-live="assertive">
            <span class="error-icon" aria-hidden="true">⚠️</span>
            <span id="global-error-message"></span>
            <button 
                type="button" 
                class="close-error" 
                aria-label="Close error message"
                onclick="this.parentElement.classList.add('hidden')"
            >
                ×
            </button>
        </div>
    </main>
    
    <!-- Task Item Template -->
    <template id="task-template">
        <li class="task-item" data-task-id="">
            <div class="task-content">
                <span class="task-text"></span>
                <time class="task-date" datetime=""></time>
            </div>
            <button 
                type="button" 
                class="btn btn-danger btn-small delete-btn"
                aria-label="Delete task"
                title="Delete this task"
            >
                <span aria-hidden="true">×</span>
            </button>
        </li>
    </template>
    
    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>